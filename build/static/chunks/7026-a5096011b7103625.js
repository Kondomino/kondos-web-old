(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7026],{57026:function(e,t,r){"use strict";r.d(t,{Z:function(){return P},L:function(){return F}});var n=r(57437);r(42015);var l=r(16691),a=r.n(l),s=r(24033),o=r(2265),i=r(67251);function c(e,t){if(!e)throw Error("Invariant failed")}var u=new Map([["Win","Meta"],["Scroll","ScrollLock"],["Spacebar"," "],["Down","ArrowDown"],["Left","ArrowLeft"],["Right","ArrowRight"],["Up","ArrowUp"],["Del","Delete"],["Crsel","CrSel"],["Exsel","ExSel"],["Apps","ContextMenu"],["Esc","Escape"],["Decimal","."],["Multiply","*"],["Add","+"],["Subtract","-"],["Divide","/"]]),d=function(e){if(u.has(e.key)){var t=u.get(e.key);Object.defineProperty(e,"key",{configurable:!0,enumerable:!0,get:function(){return t}})}},h=function(e,t){Array.isArray(e)||"string"==typeof e||c(!1),Array.isArray(e)&&e.forEach(function(e,t){"string"!=typeof e&&c(!1)}),"function"==typeof t||null==t||c(!1);var r=(0,o.useRef)();(0,o.useEffect)(function(){r.current=function(r){d(r),(Array.isArray(e)?e.includes(r.key):e===r.key)&&(null==t||t(r))}},[e,t]),(0,o.useEffect)(function(){var e=function(e){r.current(e)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}},[])},m=r(40013),f=r(3217);let x=o.forwardRef(function({title:e,titleId:t,...r},n){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}),w=o.forwardRef(function({title:e,titleId:t,...r},n){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}),p=o.forwardRef(function({title:e,titleId:t,...r},n){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"}))});var v=r(62677),g=r(62167),b=r(8792),j=r(22261),k=r(89467);let y=(e,t)=>{let r=[];void 0===t&&(t=e,e=0);for(let n=e;n<t;n+=1)r.push(n);return r};function N(e){return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-twitter",...e,children:(0,n.jsx)("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})}function L(e){var t;let{index:r,images:l,changePhotoId:s,closeModal:i,navigation:c,currentPhoto:u,direction:d}=e,[h,L]=(0,o.useState)(!1),C=null==l?void 0:l.filter(e=>y(r-15,r+15).includes(e.id)),E=(0,j.QS)({onSwipedLeft:()=>{r<(null==l?void 0:l.length)-1&&s(r+1)},onSwipedRight:()=>{r>0&&s(r-1)},trackMouse:!0}),S=l?l[r]:u,A=(null===(t=document.querySelector("html"))||void 0===t?void 0:t.getAttribute("dir"))==="rtl";return(0,n.jsx)(v.A,{transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},children:(0,n.jsxs)("div",{className:"relative z-50 flex aspect-[3/2] w-full max-w-7xl items-center wide:h-full xl:taller-than-854:h-auto",...E,children:[(0,n.jsx)("div",{className:"w-full overflow-hidden",children:(0,n.jsx)("div",{className:"relative flex aspect-[3/2] items-center justify-center",children:(0,n.jsx)(g.M,{initial:!1,custom:d,children:(0,n.jsx)(b.E.div,{custom:d,variants:(0,k.o)(),initial:"enter",animate:"center",exit:"exit",className:"absolute",children:(0,n.jsx)(a(),{src:(null==S?void 0:S.url)||"",width:c?1280:1920,height:c?853:1280,priority:!0,alt:"Chisfis listing gallery",onLoad:()=>L(!0),sizes:"(max-width: 1025px) 100vw, 1280px",className:"object-contain"})},r)})})}),(0,n.jsxs)("div",{className:"absolute inset-0 mx-auto flex max-w-7xl items-center justify-center",children:[h&&(0,n.jsxs)("div",{className:"relative aspect-[3/2] max-h-full w-full",children:[c&&(0,n.jsxs)(n.Fragment,{children:[r>0&&(0,n.jsx)("button",{className:"absolute start-3 top-[calc(50%-16px)] rounded-full bg-black/50 p-3 text-white/75 backdrop-blur-lg transition hover:bg-black/75 hover:text-white focus:outline-none",style:{transform:"translate3d(0, 0, 0)"},onClick:()=>s(r-1),children:(0,n.jsx)(m.Z,{className:"h-6 w-6 rtl:rotate-180"})}),r+1<l.length&&(0,n.jsx)("button",{className:"absolute end-3 top-[calc(50%-16px)] rounded-full bg-black/50 p-3 text-white/75 backdrop-blur-lg transition hover:bg-black/75 hover:text-white focus:outline-none",style:{transform:"translate3d(0, 0, 0)"},onClick:()=>s(r+1),children:(0,n.jsx)(f.Z,{className:"h-6 w-6 rtl:rotate-180"})})]}),(0,n.jsx)("div",{className:"absolute top-0 end-0 flex items-center gap-2 p-3 text-white",children:c?(0,n.jsx)("a",{href:"#",className:"rounded-full bg-black/50 p-2 text-white/75 backdrop-blur-lg transition hover:bg-black/75 hover:text-white",target:"_blank",title:"Open fullsize version",rel:"noreferrer",children:(0,n.jsx)(x,{className:"h-5 w-5"})}):(0,n.jsx)("a",{href:"https://twitter.com/intent/tweet?text=Check%20out%20this%20pic%20from%20Chisfis%20!%0A%0A".concat(location.href),className:"rounded-full bg-black/50 p-2 text-white/75 backdrop-blur-lg transition hover:bg-black/75 hover:text-white",target:"_blank",title:"Open fullsize version",rel:"noreferrer",children:(0,n.jsx)(N,{className:"h-5 w-5"})})}),(0,n.jsx)("div",{className:"absolute top-0 start-0 flex items-center gap-2 p-3 text-white",children:(0,n.jsx)("button",{onClick:()=>i(),className:"rounded-full bg-black/50 p-2 text-white/75 backdrop-blur-lg transition hover:bg-black/75 hover:text-white",children:c?(0,n.jsx)(w,{className:"h-5 w-5"}):(0,n.jsx)(p,{className:"h-5 w-5"})})})]}),c&&(0,n.jsx)("div",{className:"fixed inset-x-0 bottom-0 z-40 overflow-hidden bg-gradient-to-b from-black/0 to-black/60",children:(0,n.jsx)(b.E.div,{initial:!1,className:"mx-auto mt-6 mb-6 flex aspect-[3/2] h-14",children:(0,n.jsx)(g.M,{initial:!1,children:C.map(e=>{let{id:t,url:o}=e;return(0,n.jsx)(b.E.button,{initial:{width:"0%",x:"".concat((r-1)*(A?100:-100),"%")},animate:{scale:t===r?1.25:1,width:"100%",x:"".concat(r*(A?100:-100),"%")},exit:{width:"0%"},onClick:()=>s(t),className:"".concat(t===r?"z-20 rounded-md shadow shadow-black/50":"z-10"," ").concat(0===t?"rounded-s-md":""," ").concat(t===l.length-1?"rounded-e-md":""," relative inline-block w-full shrink-0 transform-gpu overflow-hidden focus:outline-none"),children:(0,n.jsx)(a(),{alt:"small photos on the bottom",width:180,height:120,className:"".concat(t===r?"brightness-110 hover:brightness-110":"brightness-50 contrast-125 hover:brightness-75"," h-full transform object-cover transition"),src:o||""})},t)})})})})]})]})})}function C(e){let{images:t,onClose:r}=e,l=(0,o.useRef)(null),a=(0,s.useSearchParams)(),c=(0,s.useRouter)(),u=(0,s.usePathname)(),d=null==a?void 0:a.get("photoId"),m=Number(d),[f,x]=(0,o.useState)(0),[w,p]=(0,o.useState)(m);function v(){r&&r()}function g(e){e>m?x(1):x(-1),p(e),c.push("".concat(u,"/?").concat(F({value:e})))}return h("ArrowRight",()=>{m+1<t.length&&g(m+1)}),h("ArrowLeft",()=>{m>0&&g(m-1)}),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.Vq,{static:!0,open:!0,onClose:v,initialFocus:l,className:"fixed inset-0 z-50 flex items-center justify-center ",children:(0,n.jsx)(L,{index:w,direction:f,images:t,changePhotoId:g,closeModal:v,navigation:!0})})})}var E=r(35656);let{useGlobalState:S}=(0,E.r)({photoToScrollTo:null}),A=()=>S("photoToScrollTo"),M=o.forwardRef(function({title:e,titleId:t,...r},n){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"}))});var R=r(75786),z=()=>{let[e,t]=(0,o.useState)(!1);return(0,n.jsx)("div",{className:"flow-root",children:(0,n.jsxs)("div",{className:"flex text-neutral-700 dark:text-neutral-300 text-sm -mx-3 -my-1.5",children:[(0,n.jsxs)("span",{className:"py-1.5 px-3 flex rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 cursor-pointer",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),(0,n.jsx)("span",{className:"hidden sm:block ms-2",children:"Share"})]}),(0,n.jsxs)("span",{className:"py-1.5 px-3 flex rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 cursor-pointer ",onClick:()=>t(!e),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ".concat(e?"text-red-500":""),fill:e?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,n.jsx)("span",{className:"hidden sm:block ms-2",children:"Save"})]})]})})};let F=e=>{let{paramName:t="photoId",value:r}=e,n=new URLSearchParams(document.location.search);return n.set(t,String(r)),n.toString()};var P=e=>{let{images:t,onClose:r,isShowModal:l}=e,c=(0,s.useSearchParams)(),u=null==c?void 0:c.get("photoId"),d=(0,s.useRouter)(),[h,m]=A(),f=(0,o.useRef)(null),x=(0,s.usePathname)();(0,o.useEffect)(()=>{if(h&&!u){var e;null===(e=f.current)||void 0===e||e.scrollIntoView({block:"center"}),m(null)}},[u,h,m]);let w=()=>{r&&r()};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(R.u,{appear:!0,show:l,as:o.Fragment,children:(0,n.jsxs)(i.Vq,{as:"div",className:"relative z-40",onClose:w,children:[(0,n.jsx)(R.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)("div",{className:"fixed inset-0 bg-white"})}),(0,n.jsxs)("div",{className:"fixed inset-0 overflow-y-auto",children:[(0,n.jsxs)("div",{className:"sticky z-10 top-0 p-4 xl:px-10 flex items-center justify-between bg-white",children:[(0,n.jsx)("button",{className:"focus:outline-none focus:ring-0 w-10 h-10 rounded-full flex items-center justify-center hover:bg-neutral-100",onClick:w,children:(0,n.jsx)(M,{className:"w-6 h-6"})}),(0,n.jsx)(z,{})]}),(0,n.jsx)("div",{className:"flex min-h-full items-center justify-center sm:p-4 pt-0 text-center",children:(0,n.jsx)(R.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-5",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-5",children:(0,n.jsx)(i.Vq.Panel,{className:"w-full max-w-screen-lg mx-auto transform p-4 pt-0 text-left transition-all ",children:(0,n.jsxs)("div",{className:" ",children:[u&&(0,n.jsx)(C,{images:t,onClose:()=>{m(u);let e=new URLSearchParams(document.location.search);e.delete("photoId"),d.push("".concat(x,"/?").concat(e.toString()))}}),(0,n.jsx)("div",{className:"columns-1 gap-4 sm:columns-2 xl:columns-3",children:t.map(e=>{let{id:t,url:r}=e;return(0,n.jsx)("div",{onClick:()=>{let e=F({value:t});d.push("".concat(x,"/?").concat(e))},ref:t===Number(h)?f:null,className:"after:content group relative mb-5 block w-full cursor-zoom-in after:pointer-events-none after:absolute after:inset-0 after:rounded-lg after:shadow-highlight focus:outline-none",children:(0,n.jsx)(a(),{alt:"chisfis listing gallery ",className:"transform rounded-lg brightness-90 transition will-change-auto group-hover:brightness-110 focus:outline-none",style:{transform:"translate3d(0, 0, 0)"},src:r,width:720,height:480,sizes:"(max-width: 640px) 100vw, (max-width: 1280px) 50vw, 350px"})},t)})})]})})})})]})]})})})}},42015:function(){}}]);